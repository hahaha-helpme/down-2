{"id":"vD3w","dependencies":[{"name":"/home/frs_veerman/down-app/package.json","includedInParent":true,"mtime":1593263284168}],"generated":{"js":"// **********************\n// open and close functionality\n// **********************\nvar modalClasses = {\n  freeze: {\n    class: 'body',\n    toggleClass: 'body_freeze-active'\n  },\n  blur: {\n    class: '.modal',\n    toggleClass: 'modal_visible'\n  },\n  modal: {\n    class: '.blur',\n    toggleClass: 'blur_blur-active'\n  }\n};\nvar buttonsAndContent = {\n  reportProblem: {\n    button: ['.reportProblem__button'],\n    content: ['.modal__reportProblem'],\n    visible: ['modal__reportProblem_visible']\n  },\n  countryChange: {\n    button: ['.nav__lang-country-flag'],\n    content: ['.modal__geoLocation-lists'],\n    visible: ['modal__geoLocation-lists_visible']\n  },\n  about: {\n    button: ['.nav__hamburger'],\n    content: ['.modal__about', '.modal__positionPushing-lists', '.modal__countryAlternative-lists'],\n    visible: ['modal__about_visible', 'modal__positionPushing-lists_visible', 'modal__countryAlternative-lists_visible']\n  }\n};\nvar hamburgerBtn = document.querySelector('.hamburger');\nvar modal = document.querySelector('.modal');\nvar submitBtn = document.querySelector('.modal__reportProblem-description-button');\n\nvar toggleModal = function toggleModal() {\n  for (var key in modalClasses) {\n    var element = modalClasses[key];\n    var modalclass = document.querySelector(element.class);\n    var toggleThisClass = element.toggleClass;\n    modalclass.classList.toggle(toggleThisClass);\n  }\n};\n\nvar toggleModalContent = function toggleModalContent(button) {\n  for (var i in buttonsAndContent) {\n    if (buttonsAndContent[i].button === button) {\n      for (var j = 0; j < buttonsAndContent[i].content.length; ++j) {\n        var toggleOnThisClass = document.querySelector(buttonsAndContent[i].content[j]);\n        var toggleThisClass = buttonsAndContent[i].visible[j];\n        toggleOnThisClass.classList.toggle(toggleThisClass);\n      }\n    }\n  }\n}; // buttons that can be used to open modal\n\n\nvar buttonsToOpenmodal = function buttonsToOpenmodal() {\n  var buttonArray = [];\n\n  for (var i in buttonsAndContent) {\n    buttonArray.push(buttonsAndContent[i].button);\n  }\n\n  return buttonArray;\n};\n\nvar storeButton;\nbuttonsToOpenmodal().forEach(function (button) {\n  var element = document.querySelector(button);\n\n  if (element) {\n    element.addEventListener('click', function (event) {\n      //event.preventDefault()\n      toggleModal();\n      toggleModalContent(button);\n      storeButton = button;\n    });\n  }\n}); // close the modal with hamburger button click\n\nsubmitBtn.onclick = function (event) {\n  //event.preventDefault()\n  toggleModal();\n  toggleModalContent(storeButton);\n}; // close the modal with hamburger button click\n\n\nhamburgerBtn.onclick = function (event) {\n  //event.preventDefault()\n  toggleModal();\n  toggleModalContent(storeButton);\n}; // close the modal with window click\n\n\nwindow.onclick = function (event) {\n  //event.preventDefault()\n  if (event.target == modal) {\n    toggleModal();\n    toggleModalContent(storeButton);\n  }\n}; // **********************\n// send form problem report functionality\n// **********************\n\n\nvar reportProblemDescriptionButton = document.querySelector('.modal__reportProblem-description-button');\nvar isDescriptionReportButtonAlreadyclickedBefore = false;\nvar reportProblemDescriptionHeader = datalayer.serviceView.modal.reportProblem.header;\nvar reportProblemDescriptionParagraph = datalayer.serviceView.modal.reportProblem.paragraph;\nreportProblemDescriptionButton.addEventListener('click', function (event) {\n  //event.preventDefault()\n  var reportData = {\n    type: 'report-with-description',\n    languageCode: datalayer.language.code,\n    countryCode: datalayer.country.code,\n    nameHyphen: datalayer.service.nameHyphen,\n    cityName: datalayer.city.asciiNameHyphen,\n    description: document.querySelector('.modal__reportProblem-description-text').value\n  };\n  var currentURL = window.location.href;\n  var url = \"\".concat(currentURL, \"/report-problem\");\n\n  if (!isDescriptionReportButtonAlreadyclickedBefore) {\n    fetch(url, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(reportData)\n    });\n  }\n\n  isDescriptionReportButtonAlreadyclickedBefore = true;\n  var header = document.querySelector('.modal__reportProblem-header-text');\n  header.textContent = reportProblemDescriptionHeader;\n  var paragraph = document.querySelector('.modal__reportProblem-text');\n  paragraph.textContent = reportProblemDescriptionParagraph;\n  var description = document.querySelector('.modal__reportProblem-description');\n  description.classList.toggle('modal__reportProblem-description_invisible', true);\n});"},"sourceMaps":null,"error":null,"hash":"670a0137f02b82e4e53847ba885cd2f7","cacheData":{"env":{}}}